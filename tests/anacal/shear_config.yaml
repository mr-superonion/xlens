description: The pipeline specialized for testing image simulation.
instrument: lsst.obs.subaru.HyperSuprimeCam

tasks:
  MutibandSim:
    class: xlens.sim_pipe.multibandSim.MultibandSimShearPipe
    config:
      simulator.survey_name: hsc
      simulator.mode: 0
      simulator.rotId: 0
      connections.mode: 0
      connections.rotId: 0

  AnacalDetectTask:
    class: xlens.process_pipe.anacal_detect.AnacalDetectPipe
    config:
      anacal.num_epochs: 3
      anacal.do_noise_bias_correction: False
      anacal.validate_psf: True
      connections.coaddName: sim_0_rot0_

  AnacalForceTask:
    class: xlens.process_pipe.anacal_force.AnacalForcePipe
    config:
      anacal.do_noise_bias_correction: False
      connections.coaddName: sim_0_rot0_

  FpfsForceTask:
    class: xlens.process_pipe.fpfs_force.FpfsForcePipe
    config:
      fpfs.use_average_psf: True
      fpfs.sigma_arcsec1: 0.52
      fpfs.do_noise_bias_correction: False
      connections.coaddName: sim_0_rot0_
