description: The pipeline specialized for testing image simulation.
instrument: lsst.obs.subaru.HyperSuprimeCam

tasks:
  MutibandSim1:
    class: xlens.sim_pipe.shear_multiband.MultibandSimShearPipe
    config:
      simulator.survey_name: hsc
      simulator.mode: 0
      simulator.irot: 0
      connections.mode: 0
      connections.irot: 0

  MutibandSim2:
    class: xlens.sim_pipe.shear_multiband.MultibandSimShearPipe
    config:
      simulator.survey_name: hsc
      simulator.mode: 0
      simulator.irot: 1
      connections.mode: 0
      connections.irot: 1

  MutibandSim3:
    class: xlens.sim_pipe.shear_multiband.MultibandSimShearPipe
    config:
      simulator.survey_name: hsc
      simulator.mode: 1
      simulator.irot: 0
      connections.mode: 1
      connections.irot: 0

  MutibandSim4:
    class: xlens.sim_pipe.shear_multiband.MultibandSimShearPipe
    config:
      simulator.survey_name: hsc
      simulator.mode: 1
      simulator.irot: 1
      connections.mode: 1
      connections.irot: 1

  FpfsTask1:
    class: xlens.process_pipe.fpfs_multiband.FpfsMultibandPipe
    config:
      fpfs.use_average_psf: True
      fpfs.do_adding_noise: False
      connections.coaddName: sim_0_rot0_

  FpfsTask2:
    class: xlens.process_pipe.fpfs_multiband.FpfsMultibandPipe
    config:
      fpfs.use_average_psf: True
      fpfs.do_adding_noise: False
      connections.coaddName: sim_0_rot1_

  FpfsTask3:
    class: xlens.process_pipe.fpfs_multiband.FpfsMultibandPipe
    config:
      fpfs.use_average_psf: True
      fpfs.do_adding_noise: False
      connections.coaddName: sim_1_rot0_

  FpfsTask4:
    class: xlens.process_pipe.fpfs_multiband.FpfsMultibandPipe
    config:
      fpfs.use_average_psf: True
      fpfs.do_adding_noise: False
      connections.coaddName: sim_1_rot1_

  SummaryTask:
    class: xlens.summary_pipe.mcbias_multiband.McBiasMultibandPipe
    config:
      connections.coaddName: sim
      connections.dataType: meas

